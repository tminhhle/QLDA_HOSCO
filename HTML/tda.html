<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thêm Dự Án</title>
    <link rel="stylesheet"  href= "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.css">
    <link rel="stylesheet" href="../CSS/tda.css">
</head>
<body>
    <header>
        <div class="navbar">
            <a href="#">Trang chủ</a>
            <a class="active" href="#">Quản lý dự án</a>
            <a href="#">Quản lý công việc</a>
            <a href="#">Quản lý người dùng</a>
            <a href="#">Thống kê</a>
            <div class="user-info">
                <i class="fa-regular fa-circle-user"></i> <span><strong>Minh</strong></span>
            </div>
        </div>
        
    </header>
    <div class="back-wrapper">
        <!--<button class="back-btn" onclick="history.back()">← Quay lại</button>-->
        <button class="back-btn" onclick="history.back()">← Quay lại</button>
    </div>


    <main>
        
        <section class="add-project">
            <h1>THÊM DỰ ÁN</h1>
            
            <form action="../php/tda.php" method="POST">
                <label for="project-name">Tên dự án</label>
                <input type="text" id="project-name" name="project_name" placeholder="Nhập tên dự án" required>
            
                <label for="description">Mô tả</label>
                <textarea id="description" name="description" placeholder="Nhập mô tả dự án" required></textarea>
            
                <div class="date-grid">
                    <div>
                        <label for="start-date-est">Ngày bắt đầu dự kiến</label>
                        <input type="datetime-local" id="start-date-est" name="start_date_est" required>
                    </div>
                    <div>
                        <label for="end-date-est">Ngày kết thúc dự kiến</label>
                        <input type="datetime-local" id="end-date-est" name="end_date_est" required>
                    </div>
                </div>
            
                <div class="date-grid">
                    <div>
                        <label for="start-date-real">Ngày bắt đầu thực tế</label>
                        <input type="datetime-local" id="start-date-real" name="start_date_real" >
                    </div>
                    <div>
                        <label for="end-date-real">Ngày kết thúc thực tế</label>
                        <input type="datetime-local" id="end-date-real" name="end_date_real" >
                    </div>
                </div>
            
                <label for="status">Trạng thái</label>
                <select id="status" name="status" required>
                    <option value="">-- Chọn trạng thái --</option>
                    <option value="Chưa bắt đầu">Chưa bắt đầu</option>
                    <option value="Đang tiến hành">Đang tiến hành</option>
                    <option value="Hoàn thành">Hoàn thành</option>
                  </select>
                  
            
                <button type="submit">THÊM</button>
            </form>
        </section>
    </main>

    <script>
        function validateDateInputs(estStartId, estEndId, realStartId, realEndId) {
          const estStart = document.getElementById(estStartId);
          const estEnd = document.getElementById(estEndId);
          const realStart = document.getElementById(realStartId);
          const realEnd = document.getElementById(realEndId);
      
          // Kiểm tra dự kiến
          estEnd.addEventListener('change', () => {
            if (estStart.value && estEnd.value && estEnd.value < estStart.value) {
              alert("❌ Ngày kết thúc dự kiến phải sau ngày bắt đầu dự kiến!");
              estEnd.value = '';
            }
          });
      
          estStart.addEventListener('change', () => {
            if (estStart.value && estEnd.value && estEnd.value < estStart.value) {
              alert("❌ Ngày kết thúc dự kiến phải sau ngày bắt đầu dự kiến!");
              estEnd.value = '';
            }
          });
      
          // Kiểm tra thực tế
          realEnd.addEventListener('change', () => {
            if (realStart.value && realEnd.value && realEnd.value < realStart.value) {
              alert("❌ Ngày kết thúc thực tế phải sau ngày bắt đầu thực tế!");
              realEnd.value = '';
            }
          });
      
          realStart.addEventListener('change', () => {
            if (realStart.value && realEnd.value && realEnd.value < realStart.value) {
              alert("❌ Ngày kết thúc thực tế phải sau ngày bắt đầu thực tế!");
              realEnd.value = '';
            }
          });
        }
      
        // Gọi hàm khi DOM đã sẵn sàng
        window.addEventListener('DOMContentLoaded', () => {
          validateDateInputs('start-date-est', 'end-date-est', 'start-date-real', 'end-date-real');
        });
      </script>
      
</body>
</html>



